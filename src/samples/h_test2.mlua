-{ block:
   -{ extension 'log' }
   -{ extension 'H' }
   require 'dollar'
   function dollar.Q(cond, iftrue, iffalse)
      local b = +{ block: 
                   local v 
                   print("ternary cond")
                   if -{!cond} then v = -{!iftrue} 
                   else v = -{!iffalse} end }
      local r = `Stat{ b, +{v} }
      $log('before hygiene:', H.alpha)
      H(r)
      $log('after hygiene:', H.alpha)
      return r
   end }

y=$Q(x==1, a, b)